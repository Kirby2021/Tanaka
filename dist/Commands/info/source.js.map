{"version":3,"sources":["Commands/info/source.js"],"names":["format","resolveConfigFile","resolveConfig","require","shorten","Command","stripIndents","MessageEmbed","request","module","exports","[object Object]","client","super","name","aliases","memberName","group","description","guarded","args","key","prompt","type","msg","command","prettierConfig","body","get","groupID","query","set","embed","setTitle","setURL","html_url","setDescription","Buffer","from","content","toString","setColor","setFooter","author","tag","displayAvatarURL","dynamic","setTimestamp"],"mappings":"AAAA,MAAMA,OAAEA,OAAMC,kBAAEA,kBAAiBC,cAAEA,eAAkBC,QAAQ,aACvDC,QAAEA,SAAYD,QAAQ,0BACtBE,QAAEA,SAAYF,QAAQ,wBACtBG,aAAEA,cAAiBH,QAAQ,gBAC3BI,aAAEA,cAAiBJ,QAAQ,cAC3BK,QAAUL,QAAQ,mBAExBM,OAAOC,QAAU,cAA4BL,QAC5CM,YAAYC,GACXC,MAAMD,EAAQ,CACbE,KAAM,SACNC,QAAS,CAAC,OACVC,WAAY,SACZC,MAAO,OACPC,YAAa,uCACbC,SAAS,EACTC,KAAM,CACL,CACCC,IAAK,UACLC,OAAQ,uBACRC,KAAM,cAMVZ,UAAUa,GAAKC,QAAEA,IAChB,MAAMC,QAAuBxB,oBAAoBD,sBAC3C0B,KAAEA,SAAenB,QACrBoB,IACA,wEAAwEH,EAAQI,WAAWJ,EAAQX,WAEnGgB,MAAM,MAAO,QACbC,IAAI,SAAU,kCACVC,GAAQ,IAAIzB,cAChB0B,SAASN,EAAKb,MACdoB,OAAOP,EAAKQ,UACZC,eACA9B,YAAY;;MAEVF,QAAQJ,OAAOqC,OAAOC,KAAKX,EAAKY,QAAS,UAAUC,SAAS,SAAUd,GAAiB;;MAIzFe,SAAS,UACTC,UAAU,gBAAgBlB,EAAImB,OAAOC,MAAOpB,EAAImB,OAAOE,iBAAiB,CAAEC,SAAS,KACnFC,eAEF,OAAOvB,EAAIQ,MAAMA","file":"source.js","sourcesContent":["const { format, resolveConfigFile, resolveConfig } = require('prettier');\nconst { shorten } = require('../../Structures/Util');\nconst { Command } = require('discord.js-commando');\nconst { stripIndents } = require('common-tags');\nconst { MessageEmbed } = require('discord.js');\nconst request = require('node-superfetch');\n\nmodule.exports = class SourceCommand extends Command {\n\tconstructor(client) {\n\t\tsuper(client, {\n\t\t\tname: 'source',\n\t\t\taliases: ['src'],\n\t\t\tmemberName: 'source',\n\t\t\tgroup: 'info',\n\t\t\tdescription: 'Gets the source code of the command.',\n\t\t\tguarded: true,\n\t\t\targs: [\n\t\t\t\t{\n\t\t\t\t\tkey: 'command',\n\t\t\t\t\tprompt: 'What is the command?',\n\t\t\t\t\ttype: 'command',\n\t\t\t\t},\n\t\t\t],\n\t\t});\n\t}\n\n\tasync run(msg, { command }) {\n\t\tconst prettierConfig = await resolveConfig(await resolveConfigFile());\n\t\tconst { body } = await request\n\t\t\t.get(\n\t\t\t\t`https://api.github.com/repos/1chiSensei/Tanaka/contents/src/Commands/${command.groupID}/${command.name}.js`,\n\t\t\t)\n\t\t\t.query('ref', 'main')\n\t\t\t.set('Accept', 'application/vnd.github.v3+json');\n\t\tconst embed = new MessageEmbed()\n\t\t\t.setTitle(body.name)\n\t\t\t.setURL(body.html_url)\n\t\t\t.setDescription(\n\t\t\t\tstripIndents`\n\t\t\t\t\\`\\`\\`js\n\t\t\t\t${shorten(format(Buffer.from(body.content, 'base64').toString('utf-8'), prettierConfig), 1950)}\n\t\t\t\t\\`\\`\\`\n\t\t\t`,\n\t\t\t)\n\t\t\t.setColor('RANDOM')\n\t\t\t.setFooter(`Requested by ${msg.author.tag}`, msg.author.displayAvatarURL({ dynamic: true }))\n\t\t\t.setTimestamp();\n\n\t\treturn msg.embed(embed);\n\t}\n};\n"]}