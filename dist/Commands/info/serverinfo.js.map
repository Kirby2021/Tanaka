{"version":3,"sources":["Commands/info/serverinfo.js"],"names":["filterLevels","verificationLevels","regions","trimArray","require","Command","MessageEmbed","moment","module","exports","ServerInfoCommand","[object Object]","client","super","name","aliases","group","memberName","description","clientPermissions","guildOnly","msg","roles","guild","cache","sort","a","b","position","map","role","toString","members","channels","emojis","embed","setTitle","setColor","setThumbnail","iconURL","dynamic","size","addField","id","owner","user","tag","ownerID","region","premiumTier","explicitContentFilter","verificationLevel","createdTimestamp","format","fromNow","length","filter","emoji","animated","memberCount","member","bot","channel","type","premiumSubscriptionCount","presence","status","join","setTimestamp","say"],"mappings":"AAAA,MAAMA,aAAEA,aAAYC,mBAAEA,mBAAkBC,QAAEA,QAAOC,UAAEA,WAAcC,QAAQ,0BACnEC,QAAEA,SAAYD,QAAQ,wBACtBE,aAAEA,cAAiBF,QAAQ,cAC3BG,OAASH,QAAQ,UAEvBI,OAAOC,QAAU,MAAMC,0BAA0BL,QAChDM,YAAYC,GACXC,MAAMD,EAAQ,CACbE,KAAM,aACNC,QAAS,CAAC,SAAU,cAAe,SACnCC,MAAO,OACPC,WAAY,aACZC,YAAa,kDACbC,kBAAmB,CAAC,eACpBC,WAAW,IAIbT,IAAIU,GACH,MAAMC,EAAQD,EAAIE,MAAMD,MAAME,MAC5BC,MAAK,CAACC,EAAGC,IAAMA,EAAEC,SAAWF,EAAEE,WAC9BC,KAAKC,GAASA,EAAKC,aACfC,EAAUX,EAAIE,MAAMS,QAAQR,MAC5BS,EAAWZ,EAAIE,MAAMU,SAAST,MAC9BU,EAASb,EAAIE,MAAMW,OAAOV,MAE1BW,GAAQ,IAAI7B,cAChB8B,SAAS,6BAA6Bf,EAAIE,MAAMT,YAChDuB,SAAS,UACTC,aAAajB,EAAIE,MAAMgB,QAAQ,CAAEC,SAAS,EAAMC,KAAM,QACtDC,SAAS,UAAW,CACpB,eAAerB,EAAIE,MAAMT,OACzB,aAAaO,EAAIE,MAAMoB,KACvB,gBAAgBtB,EAAIE,MAAMqB,MAAMC,KAAKC,UAAUzB,EAAIE,MAAMwB,aACzD,iBAAiB7C,QAAQmB,EAAIE,MAAMyB,UACnC,sBAAqB3B,EAAIE,MAAM0B,YAAc,QAAQ5B,EAAIE,MAAM0B,cAAgB,QAC/E,0BAA0BjD,aAAaqB,EAAIE,MAAM2B,yBACjD,6BAA6BjD,mBAAmBoB,EAAIE,MAAM4B,qBAC1D,yBAAyB5C,OAAOc,EAAIE,MAAM6B,kBAAkBC,OAAO,SAAS9C,OAC3Ec,EAAIE,MAAM6B,kBACTC,OAAO,SAAS9C,OAAOc,EAAIE,MAAM6B,kBAAkBE,cACrD,MAEAZ,SAAS,aAAc,CACvB,qBAAqBpB,EAAMiC,SAC3B,sBAAsBrB,EAAOO,OAC7B,8BAA8BP,EAAOsB,QAAQC,IAAWA,EAAMC,WAAUjB,OACxE,6BAA6BP,EAAOsB,QAAQC,GAAUA,EAAMC,WAAUjB,OACtE,uBAAuBpB,EAAIE,MAAMoC,cACjC,iBAAiB3B,EAAQwB,QAAQI,IAAYA,EAAOf,KAAKgB,MAAKpB,OAC9D,eAAeT,EAAQwB,QAAQI,GAAWA,EAAOf,KAAKgB,MAAKpB,OAC3D,wBAAwBR,EAASuB,QAAQM,GAA6B,SAAjBA,EAAQC,OAAiBtB,OAC9E,yBAAyBR,EAASuB,QAAQM,GAA6B,UAAjBA,EAAQC,OAAkBtB,OAChF,4BACCR,EAASuB,QAAQM,GAA6B,aAAjBA,EAAQC,OAAqBtB,OAE3D,wBAAwBR,EAASuB,QAAQM,GAA6B,SAAjBA,EAAQC,OAAiBtB,OAC9E,sBAAsBpB,EAAIE,MAAMyC,0BAA4B,MAC5D,MAEAtB,SAAS,WAAY,CACrB,iBAAiBV,EAAQwB,QAAQI,GAAsC,WAA3BA,EAAOK,SAASC,SAAqBzB,OACjF,eAAeT,EAAQwB,QAAQI,GAAsC,SAA3BA,EAAOK,SAASC,SAAmBzB,OAC7E,yBACCT,EAAQwB,QAAQI,GAAsC,QAA3BA,EAAOK,SAASC,SAAkBzB,OAE9D,kBACCT,EAAQwB,QAAQI,GAAsC,YAA3BA,EAAOK,SAASC,SAAsBzB,OAElE,MAEAC,SACA,UAAUpB,EAAMiC,OAAS,KACzBjC,EAAMiC,OAAS,GAAKjC,EAAM6C,KAAK,MAAQ7C,EAAMiC,OAAS,GAAKpD,UAAUmB,GAAS,QAE9E8C,eAEF,OAAO/C,EAAIgD,IAAIlC","file":"serverinfo.js","sourcesContent":["const { filterLevels, verificationLevels, regions, trimArray } = require('../../Structures/Util');\nconst { Command } = require('discord.js-commando');\nconst { MessageEmbed } = require('discord.js');\nconst moment = require('moment');\n\nmodule.exports = class ServerInfoCommand extends Command {\n\tconstructor(client) {\n\t\tsuper(client, {\n\t\t\tname: 'serverinfo',\n\t\t\taliases: ['server', 'server-info', 'guild'],\n\t\t\tgroup: 'info',\n\t\t\tmemberName: 'serverinfo',\n\t\t\tdescription: \"Responds with the server's general information.\",\n\t\t\tclientPermissions: ['EMBED_LINKS'],\n\t\t\tguildOnly: true,\n\t\t});\n\t}\n\n\trun(msg) {\n\t\tconst roles = msg.guild.roles.cache\n\t\t\t.sort((a, b) => b.position - a.position)\n\t\t\t.map((role) => role.toString());\n\t\tconst members = msg.guild.members.cache;\n\t\tconst channels = msg.guild.channels.cache;\n\t\tconst emojis = msg.guild.emojis.cache;\n\n\t\tconst embed = new MessageEmbed()\n\t\t\t.setTitle(`**Guild Information for __${msg.guild.name}__**`)\n\t\t\t.setColor('RANDOM')\n\t\t\t.setThumbnail(msg.guild.iconURL({ dynamic: true, size: 4096 }))\n\t\t\t.addField('General', [\n\t\t\t\t`**❯ Name:** ${msg.guild.name}`,\n\t\t\t\t`**❯ ID:** ${msg.guild.id}`,\n\t\t\t\t`**❯ Owner:** ${msg.guild.owner.user.tag} \\`(${msg.guild.ownerID})\\``,\n\t\t\t\t`**❯ Region:** ${regions[msg.guild.region]}`,\n\t\t\t\t`**❯ Boost Tier:** ${msg.guild.premiumTier ? `Tier ${msg.guild.premiumTier}` : 'None'}`,\n\t\t\t\t`**❯ Explicit Filter:** ${filterLevels[msg.guild.explicitContentFilter]}`,\n\t\t\t\t`**❯ Verification Level:** ${verificationLevels[msg.guild.verificationLevel]}`,\n\t\t\t\t`**❯ Time Created:** \\`${moment(msg.guild.createdTimestamp).format('LT')} ${moment(\n\t\t\t\t\tmsg.guild.createdTimestamp,\n\t\t\t\t).format('LL')} ${moment(msg.guild.createdTimestamp).fromNow()}\\``,\n\t\t\t\t'\\u200b',\n\t\t\t])\n\t\t\t.addField('Statistics', [\n\t\t\t\t`**❯ Role Count:** ${roles.length}`,\n\t\t\t\t`**❯ Emoji Count:** ${emojis.size}`,\n\t\t\t\t`**❯ Regular Emoji Count:** ${emojis.filter((emoji) => !emoji.animated).size}`,\n\t\t\t\t`**❯ Animated Emoji Count: ${emojis.filter((emoji) => emoji.animated).size}`,\n\t\t\t\t`**❯ Member Count:** ${msg.guild.memberCount}`,\n\t\t\t\t`**❯ Humans:** ${members.filter((member) => !member.user.bot).size}`,\n\t\t\t\t`**❯ Bots:** ${members.filter((member) => member.user.bot).size}`,\n\t\t\t\t`**❯ Text Channels:** ${channels.filter((channel) => channel.type === 'text').size}`,\n\t\t\t\t`**❯ Voice Channels:** ${channels.filter((channel) => channel.type === 'voice').size}`,\n\t\t\t\t`**❯ Category Channels:** ${\n\t\t\t\t\tchannels.filter((channel) => channel.type === 'category').size\n\t\t\t\t}`,\n\t\t\t\t`**❯ News Channels:** ${channels.filter((channel) => channel.type === 'news').size}`,\n\t\t\t\t`**❯ Boost Count:** ${msg.guild.premiumSubscriptionCount ?? '0'}`,\n\t\t\t\t'\\u200b',\n\t\t\t])\n\t\t\t.addField('Presence', [\n\t\t\t\t`**❯ Online:** ${members.filter((member) => member.presence.status === 'online').size}`,\n\t\t\t\t`**❯ Idle:** ${members.filter((member) => member.presence.status === 'idle').size}`,\n\t\t\t\t`**❯ Do Not Disturb:** ${\n\t\t\t\t\tmembers.filter((member) => member.presence.status === 'dnd').size\n\t\t\t\t}`,\n\t\t\t\t`**❯ Offline:** ${\n\t\t\t\t\tmembers.filter((member) => member.presence.status === 'offline').size\n\t\t\t\t}`,\n\t\t\t\t'\\u200b',\n\t\t\t])\n\t\t\t.addField(\n\t\t\t\t`Roles [${roles.length - 1}]`,\n\t\t\t\troles.length > 10 ? roles.join(', ') : roles.length > 10 ? trimArray(roles) : 'None',\n\t\t\t)\n\t\t\t.setTimestamp();\n\n\t\treturn msg.say(embed);\n\t}\n};\n"]}