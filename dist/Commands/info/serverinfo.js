const{filterLevels:filterLevels,verificationLevels:verificationLevels,regions:regions}=require("../../Structures/Util"),{Command:Command}=require("discord.js-commando"),{MessageEmbed:MessageEmbed}=require("discord.js"),moment=require("moment");module.exports=class extends Command{constructor(e){super(e,{name:"serverinfo",aliases:["server","server-info","guild"],group:"info",memberName:"serverinfo",description:"Responds with the server's general information.",clientPermissions:["EMBED_LINKS"],guildOnly:!0})}async run(e){const i=e.guild.roles.cache.sort(((e,i)=>i.position-e.position)).map((e=>e.toString())),t=e.guild.members.cache,r=e.guild.channels.cache,s=e.guild.emojis.cache,n=await e.guild.fetchOwner(),o=(new MessageEmbed).setTitle(`**Guild Information for __${e.guild.name}__**`).setColor("RANDOM").setThumbnail(e.guild.iconURL({dynamic:!0,size:4096})).addField("General",[`**❯ Name:** ${e.guild.name}`,`**❯ ID:** ${e.guild.id}`,`**❯ Owner:** ${n.user.tag} \`(${e.guild.ownerID})\``,`**❯ Region:** ${regions[e.guild.region]}`,"**❯ Boost Tier:** "+(e.guild.premiumTier?`Tier ${e.guild.premiumTier}`:"None"),`**❯ Explicit Filter:** ${filterLevels[e.guild.explicitContentFilter]}`,`**❯ Verification Level:** ${verificationLevels[e.guild.verificationLevel]}`,`**❯ Time Created:** \`${moment(e.guild.createdTimestamp).format("LT")} ${moment(e.guild.createdTimestamp).format("LL")} ${moment(e.guild.createdTimestamp).fromNow()}\``,"**❯ NSFW:** "+(e.guild.nsfw?"Yes":"No"),"​"]).addField("Statistics",[`**❯ Role Count:** ${i.length}`,`**❯ Emoji Count:** ${s.size}`,`**❯ Member Count:** ${e.guild.memberCount}`,`**❯ Humans:** ${t.filter((e=>!e.user.bot)).size}`,`**❯ Bots:** ${t.filter((e=>e.user.bot)).size}`,`**❯ Text Channels:** ${r.filter((e=>"text"===e.type)).size}`,`**❯ Voice Channels:** ${r.filter((e=>"voice"===e.type)).size}`,`**❯ Category Channels:** ${r.filter((e=>"category"===e.type)).size}`,`**❯ News Channels:** ${r.filter((e=>"news"===e.type)).size}`,`**❯ Stage Channels:** ${r.filter((e=>"stage"===e.type)).size}`,`**❯ Boost Count:** ${e.guild.premiumSubscriptionCount??"0"}`,"​"]).setTimestamp();return e.say(o)}};
//# sourceMappingURL=serverinfo.js.map
