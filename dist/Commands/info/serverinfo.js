const{filterLevels:filterLevels,verificationLevels:verificationLevels,regions:regions,trimArray:trimArray}=require("../../Structures/Util"),{Command:Command}=require("discord.js-commando"),{MessageEmbed:MessageEmbed}=require("discord.js"),moment=require("moment");module.exports=class ServerInfoCommand extends Command{constructor(e){super(e,{name:"serverinfo",aliases:["server","server-info","guild"],group:"info",memberName:"serverinfo",description:"Responds with the server's general information.",clientPermissions:["EMBED_LINKS"],guildOnly:!0})}run(e){const i=e.guild.roles.cache.sort(((e,i)=>i.position-e.position)).map((e=>e.toString())),t=e.guild.members.cache,r=e.guild.channels.cache,n=e.guild.emojis.cache,s=(new MessageEmbed).setTitle(`**Guild Information for __${e.guild.name}__**`).setColor("RANDOM").setThumbnail(e.guild.iconURL({dynamic:!0,size:4096})).addField("General",[`**❯ Name:** ${e.guild.name}`,`**❯ ID:** ${e.guild.id}`,`**❯ Owner:** ${e.guild.owner.user.tag} \`(${e.guild.ownerID})\``,`**❯ Region:** ${regions[e.guild.region]}`,"**❯ Boost Tier:** "+(e.guild.premiumTier?`Tier ${e.guild.premiumTier}`:"None"),`**❯ Explicit Filter:** ${filterLevels[e.guild.explicitContentFilter]}`,`**❯ Verification Level:** ${verificationLevels[e.guild.verificationLevel]}`,`**❯ Time Created:** \`${moment(e.guild.createdTimestamp).format("LT")} ${moment(e.guild.createdTimestamp).format("LL")} ${moment(e.guild.createdTimestamp).fromNow()}\``,"​"].join("\n")).addField("Statistics",[`**❯ Role Count:** ${i.length}`,`**❯ Emoji Count:** ${n.size}`,`**❯ Regular Emoji Count:** ${n.filter((e=>!e.animated)).size}`,`**❯ Animated Emoji Count: ${n.filter((e=>e.animated)).size}`,`**❯ Member Count:** ${e.guild.memberCount}`,`**❯ Humans:** ${t.filter((e=>!e.user.bot)).size}`,`**❯ Bots:** ${t.filter((e=>e.user.bot)).size}`,`**❯ Text Channels:** ${r.filter((e=>"text"===e.type)).size}`,`**❯ Voice Channels:** ${r.filter((e=>"voice"===e.type)).size}`,`**❯ Category Channels:** ${r.filter((e=>"category"===e.type)).size}`,`**❯ News Channels:** ${r.filter((e=>"news"===e.type)).size}`,`**❯ Boost Count:** ${e.guild.premiumSubscriptionCount??"0"}`,"​"].join("\n")).addField("Presence",[`**❯ Online:** ${t.filter((e=>"online"===e.presence.status)).size}`,`**❯ Idle:** ${t.filter((e=>"idle"===e.presence.status)).size}`,`**❯ Do Not Disturb:** ${t.filter((e=>"dnd"===e.presence.status)).size}`,`**❯ Offline:** ${t.filter((e=>"offline"===e.presence.status)).size}`,"​"]).addField(`Roles [${i.length-1}]`,i.length>10?i.join(", "):i.length>10?trimArray(i):"None").setTimestamp();return e.say(s)}};
//# sourceMappingURL=serverinfo.js.map
