{"version":3,"sources":["Commands/anime-updates/anime-updates.js"],"names":["Command","require","module","exports","AnimeUpdatesCommand","[object Object]","client","super","name","aliases","group","memberName","description","clientPermissions","userPermissions","guildOnly","args","key","prompt","type","msg","channel","undefined","this","db","get","guild","id","say","hook","createWebhook","avatar","user","displayAvatarURL","size","reason","set","token"],"mappings":"AAAA,MAAMA,QAAEA,SAAYC,QAAQ,uBAE5BC,OAAOC,QAAU,MAAMC,4BAA4BJ,QAClDK,YAAYC,GACXC,MAAMD,EAAQ,CACbE,KAAM,gBACNC,QAAS,CAAC,WAAY,qBACtBC,MAAO,UACPC,WAAY,gBACZC,YAAa,kCACbC,kBAAmB,CAAC,mBACpBC,gBAAiB,CAAC,gBAClBC,WAAW,EACXC,KAAM,CACL,CACCC,IAAK,UACLC,OAAQ,qDACRC,KAAM,mBAMVd,UAAUe,GAAKC,QAAEA,IAChB,QAAmEC,UAAxDC,KAAKjB,OAAOkB,GAAGC,IAAI,gBAAgBL,EAAIM,MAAMC,MACvD,OAAOP,EAAIQ,IAAI,oDAEhB,MAAMC,QAAaR,EAAQS,cAAc,yBAA0B,CAClEC,OAAQR,KAAKjB,OAAO0B,KAAKC,iBAAiB,CAAEC,KAAM,OAClDC,OAAQ,kBAKT,aAFMZ,KAAKjB,OAAOkB,GAAGY,IAAI,gBAAgBhB,EAAIM,MAAMC,KAAM,CAAEU,MAAOR,EAAKQ,MAAOV,GAAIE,EAAKF,KAEhFP,EAAIQ,IAAI,gDAAgDP,EAAQM","file":"anime-updates.js","sourcesContent":["const { Command } = require('discord.js-commando');\n\nmodule.exports = class AnimeUpdatesCommand extends Command {\n\tconstructor(client) {\n\t\tsuper(client, {\n\t\t\tname: 'anime-updates',\n\t\t\taliases: ['anime-up', 'set-anime-updates'],\n\t\t\tgroup: 'updates',\n\t\t\tmemberName: 'anime-updates',\n\t\t\tdescription: 'Sets the anime updates channel.',\n\t\t\tclientPermissions: ['MANAGE_WEBHOOKS'],\n\t\t\tuserPermissions: ['MANAGE_GUILD'],\n\t\t\tguildOnly: true,\n\t\t\targs: [\n\t\t\t\t{\n\t\t\t\t\tkey: 'channel',\n\t\t\t\t\tprompt: 'What channel would you like to set up the updates?',\n\t\t\t\t\ttype: 'text-channel',\n\t\t\t\t},\n\t\t\t],\n\t\t});\n\t}\n\n\tasync run(msg, { channel }) {\n\t\tif ((await this.client.db.get(`animeUpdates-${msg.guild.id}`)) !== undefined)\n\t\t\treturn msg.say('This guild has already an anime updates channel!');\n\n\t\tconst hook = await channel.createWebhook('Tanaka | Anime Updates', {\n\t\t\tavatar: this.client.user.displayAvatarURL({ size: 4096 }),\n\t\t\treason: 'Anime Updates',\n\t\t});\n\n\t\tawait this.client.db.set(`animeUpdates-${msg.guild.id}`, { token: hook.token, id: hook.id });\n\n\t\treturn msg.say(`The anime updates channel has been set to: <#${channel.id}>!`);\n\t}\n};\n"]}