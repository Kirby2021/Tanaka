{"version":3,"sources":["Commands/music/queue.js"],"names":["Command","require","MessageEmbed","module","exports","[object Object]","client","super","name","aliases","group","memberName","description","guildOnly","args","key","prompt","type","default","message","page","player","this","manager","get","guild","id","reply","queue","embed","setAuthor","setColor","end","start","tracks","slice","current","addField","title","uri","length","setDescription","map","track","i","join","maxPages","Math","ceil","setFooter"],"mappings":"AACA,MAAMA,QAAEA,SAAYC,QAAQ,wBACtBC,aAAEA,cAAiBD,QAAQ,cAEjCE,OAAOC,QAAU,cAA2BJ,QAC3CK,YAAYC,GACXC,MAAMD,EAAQ,CACbE,KAAM,QACNC,QAAS,CAAC,cAAe,KACzBC,MAAO,QACPC,WAAY,QACZC,YAAa,yBACbC,WAAW,EACXC,KAAM,CACL,CACCC,IAAK,OACLC,OAAQ,iCACRC,KAAM,UACNC,QAAS,MAMbb,IAAIc,GAASC,KAAEA,IACd,MAAMC,EAASC,KAAKhB,OAAOiB,QAAQC,IAAIL,EAAQM,MAAMC,IACrD,IAAKL,EAAQ,OAAOF,EAAQQ,MAAM,sCAElC,MAAMC,MAAEA,GAAUP,EACZQ,GAAQ,IAAI3B,cAAe4B,UAAU,aAAaX,EAAQM,MAAMjB,QAAQuB,SAAS,UAIjFC,EAFW,GAELZ,EACNa,EAAQD,EAHG,GAKXE,EAASN,EAAMO,MAAMF,EAAOD,GAE9BJ,EAAMQ,SAASP,EAAMQ,SAAS,UAAW,IAAIT,EAAMQ,QAAQE,UAAUV,EAAMQ,QAAQG,QAElFL,EAAOM,OAEXX,EAAMY,eACLP,EAAOQ,KAAI,CAACC,EAAOC,IAAM,GAAGX,KAAUW,QAAQD,EAAML,UAAUK,EAAMJ,SAAQM,KAAK,OAH/DhB,EAAMY,eAAe,gBAAgBrB,EAAO,EAAI,QAAQA,IAAS,gBAMrF,MAAM0B,EAAWC,KAAKC,KAAKpB,EAAMY,OAfhB,IAmBjB,OAFAX,EAAMoB,UAAU,QAAQ7B,EAAO0B,EAAWA,EAAW1B,QAAW0B,KAEzD3B,EAAQQ,MAAME","file":"queue.js","sourcesContent":["/* eslint-disable no-negated-condition */\nconst { Command } = require('discord.js-commando');\nconst { MessageEmbed } = require('discord.js');\n\nmodule.exports = class QueueCommand extends Command {\n\tconstructor(client) {\n\t\tsuper(client, {\n\t\t\tname: 'queue',\n\t\t\taliases: ['music-queue', 'q'],\n\t\t\tgroup: 'music',\n\t\t\tmemberName: 'queue',\n\t\t\tdescription: 'Shows the music queue.',\n\t\t\tguildOnly: true,\n\t\t\targs: [\n\t\t\t\t{\n\t\t\t\t\tkey: 'page',\n\t\t\t\t\tprompt: 'What is the page of the queue?',\n\t\t\t\t\ttype: 'integer',\n\t\t\t\t\tdefault: 1,\n\t\t\t\t},\n\t\t\t],\n\t\t});\n\t}\n\n\trun(message, { page }) {\n\t\tconst player = this.client.manager.get(message.guild.id);\n\t\tif (!player) return message.reply('There is no player for this guild.');\n\n\t\tconst { queue } = player;\n\t\tconst embed = new MessageEmbed().setAuthor(`Queue for ${message.guild.name}`).setColor('RANDOM');\n\n\t\tconst multiple = 10;\n\n\t\tconst end = page * multiple;\n\t\tconst start = end - multiple;\n\n\t\tconst tracks = queue.slice(start, end);\n\n\t\tif (queue.current) embed.addField('Current', `[${queue.current.title}](${queue.current.uri})`);\n\n\t\tif (!tracks.length) embed.setDescription(`No tracks in ${page > 1 ? `page ${page}` : 'the queue'}.`);\n\t\telse\n\t\t\tembed.setDescription(\n\t\t\t\ttracks.map((track, i) => `${start + ++i} - [${track.title}](${track.uri})`).join('\\n'),\n\t\t\t);\n\n\t\tconst maxPages = Math.ceil(queue.length / multiple);\n\n\t\tembed.setFooter(`Page ${page > maxPages ? maxPages : page} of ${maxPages}`);\n\n\t\treturn message.reply(embed);\n\t}\n};\n"]}