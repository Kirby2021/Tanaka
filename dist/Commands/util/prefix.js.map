{"version":3,"sources":["Commands/util/prefix.js"],"names":["Command","require","stripIndents","module","exports","[object Object]","client","super","name","group","memberName","description","format","guarded","args","key","prompt","type","max","default","userPermissions","msg","prefix","guild","commandPrefix","this","reply","anyUsage","isOwner","author","lowercase","toLowerCase","pref","response"],"mappings":"AAAA,MAAMA,QAAEA,SAAYC,QAAQ,wBACtBC,aAAEA,cAAiBD,QAAQ,eAEjCE,OAAOC,QAAU,cAA4BJ,QAC5CK,YAAYC,GACXC,MAAMD,EAAQ,CACbE,KAAM,SACNC,MAAO,OACPC,WAAY,SACZC,YAAa,mCACbC,OAAQ,4BACRC,SAAS,EACTC,KAAM,CACL,CACCC,IAAK,SACLC,OAAQ,kDACRC,KAAM,SACNC,IAAK,GACLC,QAAS,KAGXC,gBAAiB,CAAC,kBAIpBf,UAAUgB,GAAKC,OAAEA,IAChB,IAAKA,EAAQ,CACZ,MAAMA,EAASD,EAAIE,MAAQF,EAAIE,MAAMC,cAAgBC,KAAKnB,OAAOkB,cAEjE,OAAOH,EAAIK,MAAMxB,YAAY;MAC1BoB,EAAS,2BAA2BA,OAAc;2BAC7BD,EAAIM,SAAS;MAItC,IAAKN,EAAIE,QAAUE,KAAKnB,OAAOsB,QAAQP,EAAIQ,QAC1C,OAAOR,EAAIK,MAAM,+DAElB,MAAMI,EAAYR,EAAOS,cACnBC,EAAqB,SAAdF,EAAuB,GAAKR,EACzC,IAAIW,EAEJ,GAAkB,YAAdH,EAAyB,CACxBT,EAAIE,MAAOF,EAAIE,MAAMC,cAAgB,KACpCC,KAAKnB,OAAOkB,cAAgB,KAIjCS,EAAW,sDAFKR,KAAKnB,OAAOkB,cAAgB,KAAKC,KAAKnB,OAAOkB,kBAAoB,qBAI7EH,EAAIE,MAAOF,EAAIE,MAAMC,cAAgBQ,EACpCP,KAAKnB,OAAOkB,cAAgBQ,EAEjCC,EAAWD,EACR,+BAA+BV,OAC/B,uCAKJ,aAFMD,EAAIK,MAAM,GAAGO,0BAAiCZ,EAAIM,SAAS,eAE1D","file":"prefix.js","sourcesContent":["const { Command } = require('discord.js-commando');\nconst { stripIndents } = require('common-tags');\n\nmodule.exports = class PrefixCommand extends Command {\n\tconstructor(client) {\n\t\tsuper(client, {\n\t\t\tname: 'prefix',\n\t\t\tgroup: 'util',\n\t\t\tmemberName: 'prefix',\n\t\t\tdescription: 'Shows or sets the command prefix',\n\t\t\tformat: '[prefix/\"default\"/\"none\"]',\n\t\t\tguarded: true,\n\t\t\targs: [\n\t\t\t\t{\n\t\t\t\t\tkey: 'prefix',\n\t\t\t\t\tprompt: \"What would you like to set the bot's prefix to?\",\n\t\t\t\t\ttype: 'string',\n\t\t\t\t\tmax: 20,\n\t\t\t\t\tdefault: '',\n\t\t\t\t},\n\t\t\t],\n\t\t\tuserPermissions: ['MANAGE_GUILD'],\n\t\t});\n\t}\n\n\tasync run(msg, { prefix }) {\n\t\tif (!prefix) {\n\t\t\tconst prefix = msg.guild ? msg.guild.commandPrefix : this.client.commandPrefix;\n\n\t\t\treturn msg.reply(stripIndents`\n\t\t\t\t${prefix ? `The command prefix is \\`${prefix}\\`.` : 'There is no command prefix.'}\n\t\t\t\tTo run commands, use ${msg.anyUsage('command')}\n\t\t\t`);\n\t\t}\n\n\t\tif (!msg.guild && !this.client.isOwner(msg.author))\n\t\t\treturn msg.reply('Only the bot owner(s) may change the global command prefix.');\n\n\t\tconst lowercase = prefix.toLowerCase();\n\t\tconst pref = lowercase === 'none' ? '' : prefix;\n\t\tlet response;\n\n\t\tif (lowercase === 'default') {\n\t\t\tif (msg.guild) msg.guild.commandPrefix = null;\n\t\t\telse this.client.commandPrefix = null;\n\n\t\t\tconst current = this.client.commandPrefix ? `\\`${this.client.commandPrefix}\\`` : 'no prefix';\n\n\t\t\tresponse = `Reset the command prefix to the default (currently ${current}).`;\n\t\t} else {\n\t\t\tif (msg.guild) msg.guild.commandPrefix = pref;\n\t\t\telse this.client.commandPrefix = pref;\n\n\t\t\tresponse = pref\n\t\t\t\t? `Set the command prefix to \\`${prefix}\\`.`\n\t\t\t\t: 'Removed the command prefix entirely.';\n\t\t}\n\n\t\tawait msg.reply(`${response} To run commands, use ${msg.anyUsage('command')}.`);\n\n\t\treturn null;\n\t}\n};\n"]}