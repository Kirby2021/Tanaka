{"version":3,"sources":["Commands/util/help.js"],"names":["Command","require","MessageEmbed","permissions","module","exports","[object Object]","client","super","name","aliases","group","memberName","description","guarded","clientPermissions","args","key","prompt","type","default","msg","command","embeds","i","Math","ceil","this","registry","groups","size","embed","setTitle","setColor","push","cmdCount","embedIndex","values","owner","isOwner","author","commands","filter","cmd","ownerOnly","hidden","nsfw","channel","addField","map","join","allShown","length","setFooter","msgs","direct","say","reply","userPerms","userPermissions","perm","clientPerms","emb","guildOnly","setDescription","details","usage","format","groupID","tag","displayAvatarURL","dynamic","setTimestamp"],"mappings":"AAAA,MAAMA,QAAEA,SAAYC,QAAQ,wBACtBC,aAAEA,cAAiBD,QAAQ,eAC3BE,YAAEA,aAAgBF,QAAQ,yBAEhCG,OAAOC,QAAU,cAA0BL,QAC1CM,YAAYC,GACXC,MAAMD,EAAQ,CACbE,KAAM,OACNC,QAAS,CAAC,MAAO,YACjBC,MAAO,OACPC,WAAY,OACZC,YACC,yFACDC,SAAS,EACTC,kBAAmB,CAAC,eACpBC,KAAM,CACL,CACCC,IAAK,UACLC,OAAQ,4DACRC,KAAM,UACNC,QAAS,OAMbd,UAAUe,GAAKC,QAAEA,IAChB,IAAKA,EAAS,CACb,MAAMC,EAAS,GACf,IAAK,IAAIC,EAAI,EAAGA,EAAIC,KAAKC,KAAKC,KAAKpB,OAAOqB,SAASC,OAAOC,KAAO,IAAKN,IAAK,CAC1E,MAAMO,GAAQ,IAAI7B,cAAe8B,SAAS,iBAAiBR,EAAI,MAAMS,SAAS,UAE9EV,EAAOW,KAAKH,GAGb,IAAII,EAAW,EACXX,EAAI,EACJY,EAAa,EAEjB,IAAK,MAAMzB,KAASgB,KAAKpB,OAAOqB,SAASC,OAAOQ,SAAU,CACzDb,IAEA,MAAMc,EAAQX,KAAKpB,OAAOgC,QAAQlB,EAAImB,QAChCC,EAAW9B,EAAM8B,SAASC,QAAQC,KACnCL,IACAK,EAAIC,YAAaD,EAAIE,UACrBF,EAAIG,OAASzB,EAAI0B,QAAQD,QAIzBL,EAASX,OACdK,GAAYM,EAASX,KAEjBN,EAAiB,GAAbY,EAAkB,IAAIA,IAE9Bb,EAAOa,GAAYY,SAClB,GAAGrC,EAAMF,OACTgC,EAASQ,KAAKN,GAAQ,KAAKA,EAAIlC,WAAUyC,KAAK,OAIhD,MAAMC,EAAWhB,IAAaR,KAAKpB,OAAOqB,SAASC,OAAOC,KAC1DP,EAAOA,EAAO6B,OAAS,GAAGC,UACzB,GAAG1B,KAAKpB,OAAOqB,SAASa,SAASX,iBAChCqB,EAAW,GAAK,KAAKhB,cAIvB,IACC,MAAMmB,EAAO,GACb,IAAK,MAAMvB,KAASR,EAAQ+B,EAAKpB,WAAWb,EAAIkC,OAAO,CAAExB,MAAAA,KAIzD,MAFyB,OAArBV,EAAI0B,QAAQ5B,MAAemC,EAAKpB,WAAWb,EAAImC,IAAI,oBAEhDF,EACN,MACD,OAAOjC,EAAIoC,MAAM,gCAInB,MAAMC,EAAYpC,EAAQqC,gBACvBrC,EAAQqC,gBAAgBV,KAAKW,GAASzD,YAAYyD,KAAOV,KAAK,MAC9D,OACGW,EAAcvC,EAAQP,kBACzBO,EAAQP,kBAAkBkC,KAAKW,GAASzD,YAAYyD,KAAOV,KAAK,MAChE,OAEGY,GAAM,IAAI5D,cACd8B,SACA,eAAeV,EAAQb,WACtBa,EAAQyC,UAAY,4BAA8B,MAGnDC,eAAe,GAAG1C,EAAQT,cAAcS,EAAQ2C,QAAU,KAAK3C,EAAQ2C,UAAY,MACnFjB,SAAS,cAAe,GAAG1B,EAAQ4C,MAAM5C,EAAQ6C,QAAU,OAC3DnB,SAAS,eAAgB,GAAG1B,EAAQZ,QAAQwC,KAAK,OAAS,UAC1DF,SAAS,aAAc,GAAG1B,EAAQX,MAAMF,WAAWa,EAAQ8C,WAAW9C,EAAQV,iBAC9EoC,SAAS,YAAa,IAAG1B,EAAQwB,KAAO,MAAQ,OAChDE,SAAS,wBAAyBU,GAClCV,SAAS,uBAAwBa,GACjC5B,SAAS,UACToB,UACA,gBAAgBhC,EAAImB,OAAO6B,MAC3BhD,EAAImB,OAAO8B,iBAAiB,CAAEC,SAAS,EAAMzC,KAAM,QAEnD0C,eAEF,OAAOnD,EAAImC,IAAIM","file":"help.js","sourcesContent":["const { Command } = require('discord.js-commando');\nconst { MessageEmbed } = require('discord.js');\nconst { permissions } = require('../../Structures/Util');\n\nmodule.exports = class HelpCommand extends Command {\n\tconstructor(client) {\n\t\tsuper(client, {\n\t\t\tname: 'help',\n\t\t\taliases: ['cmd', 'commands'],\n\t\t\tgroup: 'util',\n\t\t\tmemberName: 'help',\n\t\t\tdescription:\n\t\t\t\t'Displays a list of available commands, or detailed information for a specific command.',\n\t\t\tguarded: true,\n\t\t\tclientPermissions: ['EMBED_LINKS'],\n\t\t\targs: [\n\t\t\t\t{\n\t\t\t\t\tkey: 'command',\n\t\t\t\t\tprompt: 'Which command would you like to view the information for?',\n\t\t\t\t\ttype: 'command',\n\t\t\t\t\tdefault: '',\n\t\t\t\t},\n\t\t\t],\n\t\t});\n\t}\n\n\tasync run(msg, { command }) {\n\t\tif (!command) {\n\t\t\tconst embeds = [];\n\t\t\tfor (let i = 0; i < Math.ceil(this.client.registry.groups.size / 10); i++) {\n\t\t\t\tconst embed = new MessageEmbed().setTitle(`Command List (${i + 1})`).setColor('RANDOM');\n\n\t\t\t\tembeds.push(embed);\n\t\t\t}\n\n\t\t\tlet cmdCount = 0;\n\t\t\tlet i = 0;\n\t\t\tlet embedIndex = 0;\n\n\t\t\tfor (const group of this.client.registry.groups.values()) {\n\t\t\t\ti++;\n\n\t\t\t\tconst owner = this.client.isOwner(msg.author);\n\t\t\t\tconst commands = group.commands.filter((cmd) => {\n\t\t\t\t\tif (owner) return true;\n\t\t\t\t\tif (cmd.ownerOnly || cmd.hidden) return false;\n\t\t\t\t\tif (cmd.nsfw && !msg.channel.nsfw) return false;\n\t\t\t\t\treturn true;\n\t\t\t\t});\n\n\t\t\t\tif (!commands.size) continue;\n\t\t\t\tcmdCount += commands.size;\n\n\t\t\t\tif (i > embedIndex * 10 + 10) embedIndex++;\n\n\t\t\t\tembeds[embedIndex].addField(\n\t\t\t\t\t`${group.name}`,\n\t\t\t\t\tcommands.map((cmd) => `\\`${cmd.name}\\``).join(' '),\n\t\t\t\t);\n\t\t\t}\n\n\t\t\tconst allShown = cmdCount === this.client.registry.groups.size;\n\t\t\tembeds[embeds.length - 1].setFooter(\n\t\t\t\t`${this.client.registry.commands.size} Commands ${\n\t\t\t\t\tallShown ? '' : ` (${cmdCount} Shown)`\n\t\t\t\t}`,\n\t\t\t);\n\n\t\t\ttry {\n\t\t\t\tconst msgs = [];\n\t\t\t\tfor (const embed of embeds) msgs.push(await msg.direct({ embed }));\n\n\t\t\t\tif (msg.channel.type !== 'dm') msgs.push(await msg.say('Check your DMs!'));\n\n\t\t\t\treturn msgs;\n\t\t\t} catch {\n\t\t\t\treturn msg.reply('You have your DMs disabled!');\n\t\t\t}\n\t\t}\n\n\t\tconst userPerms = command.userPermissions\n\t\t\t? command.userPermissions.map((perm) => permissions[perm]).join(', ')\n\t\t\t: 'None';\n\t\tconst clientPerms = command.clientPermissions\n\t\t\t? command.clientPermissions.map((perm) => permissions[perm]).join(', ')\n\t\t\t: 'None';\n\n\t\tconst emb = new MessageEmbed()\n\t\t\t.setTitle(\n\t\t\t\t`__Command **${command.name}**__${\n\t\t\t\t\tcommand.guildOnly ? ' (Usable only in servers)' : ''\n\t\t\t\t}`,\n\t\t\t)\n\t\t\t.setDescription(`${command.description}${command.details ? `\\n${command.details}` : ''}`)\n\t\t\t.addField('**Format:**', `${command.usage(command.format || '')}`)\n\t\t\t.addField('**Aliases:**', `${command.aliases.join(', ') || 'None'}`)\n\t\t\t.addField('**Group:**', `${command.group.name} (\\`${command.groupID}:${command.memberName}\\`)`)\n\t\t\t.addField('**NSFW:**', `${command.nsfw ? 'Yes' : 'No'}`)\n\t\t\t.addField('**User Permissions:**', userPerms)\n\t\t\t.addField('**Bot Permissions:**', clientPerms)\n\t\t\t.setColor('RANDOM')\n\t\t\t.setFooter(\n\t\t\t\t`Requested by ${msg.author.tag}`,\n\t\t\t\tmsg.author.displayAvatarURL({ dynamic: true, size: 4096 }),\n\t\t\t)\n\t\t\t.setTimestamp();\n\n\t\treturn msg.say(emb);\n\t}\n};\n"]}