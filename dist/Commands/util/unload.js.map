{"version":3,"sources":["Commands/util/unload.js"],"names":["Command","require","module","exports","[object Object]","client","super","name","aliases","group","memberName","description","ownerOnly","guarded","args","key","prompt","type","msg","command","unload","this","shard","broadcastEval","shards","join","err","emit","reply","ame"],"mappings":"AAAA,MAAMA,QAAEA,SAAYC,QAAQ,uBAE5BC,OAAOC,QAAU,cAA4BH,QAC5CI,YAAYC,GACXC,MAAMD,EAAQ,CACbE,KAAM,SACNC,QAAS,CAAC,iBAAkB,cAC5BC,MAAO,OACPC,WAAY,SACZC,YAAa,qBACbC,WAAW,EACXC,SAAS,EACTC,KAAM,CACL,CACCC,IAAK,UACLC,OAAQ,0CACRC,KAAM,cAMVb,UAAUc,GAAKC,QAAEA,IAGhB,GAFAA,EAAQC,SAEJC,KAAKhB,OAAOiB,MACf,UACOD,KAAKhB,OAAOiB,MAAMC,cAAc,4BACtBF,KAAKhB,OAAOiB,MAAME,OAAOC,KAAK,wGAEsCN,EAAQZ,8BAE3F,MAAOmB,GAQR,OAPAL,KAAKhB,OAAOsB,KAAK,OAAQ,2DACzBN,KAAKhB,OAAOsB,KAAK,QAASD,SAEpBR,EAAIU,MACT,cAAcT,EAAQU,wDAGhB,KAMT,aAFMX,EAAIU,MAAM,cAAcT,EAAQZ,iBAAiBc,KAAKhB,OAAOiB,MAAQ,iBAAmB,OAEvF","file":"unload.js","sourcesContent":["const { Command } = require('discord.js-commando');\n\nmodule.exports = class UnloadCommand extends Command {\n\tconstructor(client) {\n\t\tsuper(client, {\n\t\t\tname: 'unload',\n\t\t\taliases: ['unload-command', 'unload-cmd'],\n\t\t\tgroup: 'util',\n\t\t\tmemberName: 'unload',\n\t\t\tdescription: 'Unloads a command.',\n\t\t\townerOnly: true,\n\t\t\tguarded: true,\n\t\t\targs: [\n\t\t\t\t{\n\t\t\t\t\tkey: 'command',\n\t\t\t\t\tprompt: 'Which command would you like to unload?',\n\t\t\t\t\ttype: 'command',\n\t\t\t\t},\n\t\t\t],\n\t\t});\n\t}\n\n\tasync run(msg, { command }) {\n\t\tcommand.unload();\n\n\t\tif (this.client.shard) {\n\t\t\ttry {\n\t\t\t\tawait this.client.shard.broadcastEval(`\n\t\t\t\t\tconst ids = [${this.client.shard.shards.join(',')}];\n\n\t\t\t\t\tif (!this.shard.shards.some(id => ids.includes(id))) this.registry.commands.get('${command.name}').unload();\n\t\t\t\t`);\n\t\t\t} catch (err) {\n\t\t\t\tthis.client.emit('warn', 'Error wehn broadcasting command unload to other shards.');\n\t\t\t\tthis.client.emit('error', err);\n\n\t\t\t\tawait msg.reply(\n\t\t\t\t\t`Unloaded \\`${command.ame}\\` command, but failed to unload on other shards.`,\n\t\t\t\t);\n\n\t\t\t\treturn null;\n\t\t\t}\n\t\t}\n\n\t\tawait msg.reply(`Unloaded \\`${command.name}\\` command${this.client.shard ? ' on all shards' : ''}.`);\n\n\t\treturn null;\n\t}\n};\n"]}