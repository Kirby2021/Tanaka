{"version":3,"sources":["Commands/random/fml.js"],"names":["Command","require","MessageEmbed","request","cheerio","module","exports","FMLCommand","[object Object]","client","super","name","aliases","group","memberName","description","clientPermissions","throttling","usages","duration","msg","message","embed","text","get","set","User-Agent","fml","load","normalizeWhitespace","$","first","trim","setDescription","setFooter","author","tag","displayAvatarURL","dynamic","size","setColor","setTimestamp","edit"],"mappings":"AAAA,MAAMA,QAAEA,SAAYC,QAAQ,wBACtBC,aAAEA,cAAiBD,QAAQ,cAC3BE,QAAUF,QAAQ,mBAClBG,QAAUH,QAAQ,WAExBI,OAAOC,QAAU,MAAMC,mBAAmBP,QACzCQ,YAAYC,GACXC,MAAMD,EAAQ,CACbE,KAAM,MACNC,QAAS,CAAC,gBACVC,MAAO,SACPC,WAAY,MACZC,YAAa,oCACbC,kBAAmB,CAAC,eACpBC,WAAY,CACXC,OAAQ,EACRC,SAAU,MAKbX,UAAUY,GACT,MAAMC,QAAgBD,EAAIE,MAAM,CAAEP,YAAa,kBAEzCQ,KAAEA,SAAepB,QACrBqB,IAAI,8BACJC,IAAI,CAAEC,aAAc,2DAGhBC,EADIvB,QAAQwB,KAAKL,EAAM,CAAEM,qBAAqB,GACxCC,CAAE,kBAAkBC,QAAQR,OAAOS,OAEzCV,GAAQ,IAAIpB,cAChB+B,eAAe,WAAWN,aAC1BO,UACA,gBAAgBd,EAAIe,OAAOC,MAC3BhB,EAAIe,OAAOE,iBAAiB,CAAEC,SAAS,EAAMC,KAAM,QAEnDC,SAAS,UACTC,eAEF,OAAOpB,EAAQqB,KAAKpB","file":"fml.js","sourcesContent":["const { Command } = require('discord.js-commando');\nconst { MessageEmbed } = require('discord.js');\nconst request = require('node-superfetch');\nconst cheerio = require('cheerio');\n\nmodule.exports = class FMLCommand extends Command {\n\tconstructor(client) {\n\t\tsuper(client, {\n\t\t\tname: 'fml',\n\t\t\taliases: ['fuck-my-life'],\n\t\t\tgroup: 'random',\n\t\t\tmemberName: 'fml',\n\t\t\tdescription: 'Responds with a random FML quote.',\n\t\t\tclientPermissions: ['EMBED_LINKS'],\n\t\t\tthrottling: {\n\t\t\t\tusages: 5,\n\t\t\t\tduration: 15,\n\t\t\t},\n\t\t});\n\t}\n\n\tasync run(msg) {\n\t\tconst message = await msg.embed({ description: 'Fetching....' });\n\n\t\tconst { text } = await request\n\t\t\t.get('https://fmylife.com/random')\n\t\t\t.set({ 'User-Agent': 'TanakaBot 1.0.0 (https://github.com/1chiSensei/Tanaka)' });\n\n\t\tconst $ = cheerio.load(text, { normalizeWhitespace: true });\n\t\tconst fml = $('a.article-link').first().text().trim();\n\n\t\tconst embed = new MessageEmbed()\n\t\t\t.setDescription(`\\`\\`\\`\\n${fml}\\n\\`\\`\\``)\n\t\t\t.setFooter(\n\t\t\t\t`Requested by ${msg.author.tag}`,\n\t\t\t\tmsg.author.displayAvatarURL({ dynamic: true, size: 4096 }),\n\t\t\t)\n\t\t\t.setColor('RANDOM')\n\t\t\t.setTimestamp();\n\n\t\treturn message.edit(embed);\n\t}\n};\n"]}