{"version":3,"sources":["Commands/remind/remind.js"],"names":["shorten","require","Command","moment","module","exports","[object Object]","client","super","name","aliases","group","memberName","description","args","key","prompt","type","msg","time","this","timers","exists","channel","id","author","reply","timeMs","startDate","getTime","Date","now","display","add","fromNow","title","eventTitle","setTimer","say"],"mappings":"AAAA,MAAMA,QAAEA,SAAYC,QAAQ,0BACtBC,QAAEA,SAAYD,QAAQ,uBACtBE,OAASF,QAAQ,UAEvBG,OAAOC,QAAU,cAA4BH,QAC5CI,YAAYC,GACXC,MAAMD,EAAQ,CACbE,KAAM,SACNC,QAAS,CAAC,QAAS,aACnBC,MAAO,SACPC,WAAY,SACZC,YAAa,mBACbC,KAAM,CACL,CACCC,IAAK,OACLC,OAAQ,uDACRC,KAAM,eAMVX,UAAUY,GAAKC,KAAEA,IAEhB,SADqBC,KAAKb,OAAOc,OAAOC,OAAOJ,EAAIK,QAAQC,GAAIN,EAAIO,OAAOD,IAC9D,OAAON,EAAIQ,MAAM,sDAE7B,MAAMC,EAASR,EAAKS,UAAUC,UAAYC,KAAKC,MAC/C,GAAIJ,EAAS,WAAY,OAAOT,EAAIQ,MAAM,gDAE1C,MAAMM,EAAU7B,SAAS8B,IAAIN,EAAQ,MAAMO,UACrCC,EAAQhB,EAAKiB,WAAapC,QAAQmB,EAAKiB,WAAY,KAAO,YAIhE,aAFMhB,KAAKb,OAAOc,OAAOgB,SAASnB,EAAIK,QAAQC,GAAIG,EAAQT,EAAIO,OAAOD,GAAIW,GAElEjB,EAAIoB,IAAI,iCAAiCH,QAAYH","file":"remind.js","sourcesContent":["const { shorten } = require('../../Structures/Util');\nconst { Command } = require('discord.js-commando');\nconst moment = require('moment');\n\nmodule.exports = class RemindCommand extends Command {\n\tconstructor(client) {\n\t\tsuper(client, {\n\t\t\tname: 'remind',\n\t\t\taliases: ['timer', 'remind-me'],\n\t\t\tgroup: 'remind',\n\t\t\tmemberName: 'remind',\n\t\t\tdescription: 'Sets a reminder.',\n\t\t\targs: [\n\t\t\t\t{\n\t\t\t\t\tkey: 'time',\n\t\t\t\t\tprompt: 'What do you want to be reminded about, and how long?',\n\t\t\t\t\ttype: 'sherlock',\n\t\t\t\t},\n\t\t\t],\n\t\t});\n\t}\n\n\tasync run(msg, { time }) {\n\t\tconst exists = await this.client.timers.exists(msg.channel.id, msg.author.id);\n\t\tif (exists) return msg.reply('Only one reminder can be set per channel per user.');\n\n\t\tconst timeMs = time.startDate.getTime() - Date.now();\n\t\tif (timeMs > 0x7fffffff) return msg.reply('Reminders have a set maximum of ~24.84 days.');\n\n\t\tconst display = moment().add(timeMs, 'ms').fromNow();\n\t\tconst title = time.eventTitle ? shorten(time.eventTitle, 500) : 'something';\n\n\t\tawait this.client.timers.setTimer(msg.channel.id, timeMs, msg.author.id, title);\n\n\t\treturn msg.say(`Okay, I will remind you of **\"${title}\"** ${display}.`);\n\t}\n};\n"]}