{"version":3,"sources":["Commands/search/screenshot.js"],"names":["isUrlSafe","isUrl","require","MessageAttachment","Command","WebShot","window","removeTags","removeAttributes","args","height","width","module","exports","[object Object]","client","super","name","aliases","memberName","group","description","throttling","usages","duration","key","prompt","type","validate","m","msg","link","channel","nsfw","guild","say","img","screenshot","image"],"mappings":"AAAA,MAAMA,UAAEA,UAASC,MAAEA,OAAUC,QAAQ,0BAC/BC,kBAAEA,mBAAsBD,QAAQ,eAChCE,QAAEA,SAAYF,QAAQ,uBACtBG,QAAUH,QAAQ,YAClBI,OAAS,IAAID,QAClB,CAAEE,WAAY,GAAIC,iBAAkB,GAAIC,KAAM,GAAIC,OAAQ,IAAKC,MAAO,MACtE,CAAEF,KAAM,CAAC,kBAGVG,OAAOC,QAAU,cAAgCT,QAChDU,YAAYC,GACXC,MAAMD,EAAQ,CACbE,KAAM,aACNC,QAAS,CAAC,MACVC,WAAY,aACZC,MAAO,SACPC,YAAa,yBACbC,WAAY,CACXC,OAAQ,EACRC,SAAU,IAEXf,KAAM,CACL,CACCgB,IAAK,OACLC,OAAQ,mCACRC,KAAM,SACNC,SAAWC,GAAM5B,MAAM4B,OAM3Bf,UAAUgB,GAAKC,KAAEA,IAGhB,UAFmB/B,UAAU+B,KAEfD,EAAIE,QAAQC,MAAQH,EAAII,MACrC,OAAOJ,EAAIK,IACV,kFAGF,MAAMC,QAAY9B,OAAO+B,WAAWN,GAC9BO,EAAQ,IAAInC,kBAAkBiC,GAEpC,OAAON,EAAIK,IAAIG","file":"screenshot.js","sourcesContent":["const { isUrlSafe, isUrl } = require('../../Structures/Util');\nconst { MessageAttachment } = require('discord.js');\nconst { Command } = require('discord.js-commando');\nconst WebShot = require('websshot');\nconst window = new WebShot(\n\t{ removeTags: [], removeAttributes: [], args: [], height: 800, width: 1280 },\n\t{ args: ['--no-sandbox'] },\n);\n\nmodule.exports = class ScreenshotCommand extends Command {\n\tconstructor(client) {\n\t\tsuper(client, {\n\t\t\tname: 'screenshot',\n\t\t\taliases: ['ss'],\n\t\t\tmemberName: 'screenshot',\n\t\t\tgroup: 'search',\n\t\t\tdescription: 'Screenshots a website.',\n\t\t\tthrottling: {\n\t\t\t\tusages: 2,\n\t\t\t\tduration: 60,\n\t\t\t},\n\t\t\targs: [\n\t\t\t\t{\n\t\t\t\t\tkey: 'link',\n\t\t\t\t\tprompt: 'What is the link of the website?',\n\t\t\t\t\ttype: 'string',\n\t\t\t\t\tvalidate: (m) => isUrl(m),\n\t\t\t\t},\n\t\t\t],\n\t\t});\n\t}\n\n\tasync run(msg, { link }) {\n\t\tconst safe = await isUrlSafe(link);\n\n\t\tif (!safe && !msg.channel.nsfw && msg.guild)\n\t\t\treturn msg.say(\n\t\t\t\t'The URL you provided is an unsafe website. Use this on a NSFW channel instead.',\n\t\t\t);\n\n\t\tconst img = await window.screenshot(link);\n\t\tconst image = new MessageAttachment(img);\n\n\t\treturn msg.say(image);\n\t}\n};\n"]}