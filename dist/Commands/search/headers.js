const{isUrl:isUrl,shorten:shorten,replaceIp:replaceIp}=require("../../Structures/Util"),{Command:Command}=require("discord.js-commando"),{MessageEmbed:MessageEmbed}=require("discord.js"),request=require("node-superfetch");module.exports=class extends Command{constructor(e){super(e,{name:"headers",memberName:"headers",group:"search",description:"Gets the headers of a website.",args:[{key:"site",prompt:"What is the url of the website?",type:"string",validate:e=>isUrl(e)}]})}async run(e,{site:r}){try{const{headers:s}=await request.get(r),t=[],a=(new MessageEmbed).setColor("RANDOM").setTimestamp().setFooter(`Requested by ${e.author.tag}`,e.author.displayAvatarURL({dynamic:!0}));for(const[e,r]of Object.entries(s))!t.length>=15||t.push({key:e,value:r});for(const e of t)!t.length>=15||a.addField(e.key,0===e.value.length?"empty":shorten(replaceIp(e.value),1e3));return e.embed(a)}catch(r){return 404===r.status?e.say("Couldn't find the website."):e.reply(`An error occured: \`${r.message}\`.`)}}};
//# sourceMappingURL=headers.js.map
