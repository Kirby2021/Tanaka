{"version":3,"sources":["Commands/search/anime.js"],"names":["Command","require","MessageEmbed","mal","module","exports","AnimeCommand","[object Object]","client","super","name","aliases","group","memberName","description","clientPermissions","args","key","prompt","type","throttling","usages","duration","msg","anime","message","embed","result","getInfoFromName","setAuthor","setTitle","title","setDescription","synopsis","setThumbnail","picture","addField","trailer","englishTitle","episodes","status","aired","premiered","source","rating","ranked","popularity","setFooter","genres","join","setColor","setURL","url","setTimestamp","edit"],"mappings":"AAAA,MAAMA,QAAEA,SAAYC,QAAQ,wBACtBC,aAAEA,cAAiBD,QAAQ,cAC3BE,IAAMF,QAAQ,eAEpBG,OAAOC,QAAU,MAAMC,qBAAqBN,QAC3CO,YAAYC,GACXC,MAAMD,EAAQ,CACbE,KAAM,QACNC,QAAS,CAAC,gBACVC,MAAO,SACPC,WAAY,QACZC,YAAa,oDACbC,kBAAmB,CAAC,eACpBC,KAAM,CACL,CACCC,IAAK,QACLC,OAAQ,sBACRC,KAAM,WAGRC,WAAY,CACXC,OAAQ,EACRC,SAAU,MAKbf,UAAUgB,GAAKC,MAAEA,IAChB,MAAMC,QAAgBF,EAAIG,MAAM,CAAEZ,YAAa,iBAE/C,IACC,MAAMa,QAAexB,IAAIyB,gBAAgBJ,GAEnCE,GAAQ,IAAIxB,cAChB2B,UACA,cACA,2EACA,2BAEAC,SAASH,EAAOI,OAChBC,eAAeL,EAAOM,UAAY,eAClCC,aAAaP,EAAOQ,SAAW,IAC/BC,SAAS,YAAaT,EAAOU,SAAW,cAAc,GACtDD,SAAS,kBAAmBT,EAAOW,cAAgB,QAAQ,GAC3DF,SAAS,SAAUT,EAAOR,MAAM,GAChCiB,SAAS,aAAcT,EAAOY,UAAY,KAAK,GAC/CH,SAAS,WAAYT,EAAOa,QAAU,WAAW,GACjDJ,SAAS,UAAWT,EAAOc,OAAS,WAAW,GAC/CL,SAAS,cAAeT,EAAOe,WAAa,WAAW,GACvDN,SAAS,WAAYT,EAAOgB,QAAU,WAAW,GACjDP,SAAS,aAAcT,EAAOL,UAAY,WAAW,GACrDc,SAAS,WAAYT,EAAOiB,QAAU,WAAW,GACjDR,SAAS,SAAUT,EAAOkB,QAAU,WAAW,GAC/CT,SAAS,eAAgBT,EAAOmB,YAAc,WAAW,GACzDC,UAAUpB,EAAOqB,OAAOC,KAAK,OAAS,aACtCC,SAAS,WACTC,OAAOxB,EAAOyB,KACdC,eAEF,OAAO5B,EAAQ6B,KAAK5B,GACnB,MACD,OAAOD,EAAQ6B,KAAK,CAAE5B,MAAO,CAAEZ,YAAa","file":"anime.js","sourcesContent":["const { Command } = require('discord.js-commando');\nconst { MessageEmbed } = require('discord.js');\nconst mal = require('mal-scraper');\n\nmodule.exports = class AnimeCommand extends Command {\n\tconstructor(client) {\n\t\tsuper(client, {\n\t\t\tname: 'anime',\n\t\t\taliases: ['anime-search'],\n\t\t\tgroup: 'search',\n\t\t\tmemberName: 'anime',\n\t\t\tdescription: 'Searches MyAnimeList for the anime that you give.',\n\t\t\tclientPermissions: ['EMBED_LINKS'],\n\t\t\targs: [\n\t\t\t\t{\n\t\t\t\t\tkey: 'anime',\n\t\t\t\t\tprompt: 'What is your query?',\n\t\t\t\t\ttype: 'string',\n\t\t\t\t},\n\t\t\t],\n\t\t\tthrottling: {\n\t\t\t\tusages: 5,\n\t\t\t\tduration: 15,\n\t\t\t},\n\t\t});\n\t}\n\n\tasync run(msg, { anime }) {\n\t\tconst message = await msg.embed({ description: 'Fetching....' });\n\n\t\ttry {\n\t\t\tconst result = await mal.getInfoFromName(anime);\n\n\t\t\tconst embed = new MessageEmbed()\n\t\t\t\t.setAuthor(\n\t\t\t\t\t'MyAnimeList',\n\t\t\t\t\t'https://upload.wikimedia.org/wikipedia/commons/7/7a/MyAnimeList_Logo.png',\n\t\t\t\t\t'https://myanimelist.net',\n\t\t\t\t)\n\t\t\t\t.setTitle(result.title)\n\t\t\t\t.setDescription(result.synopsis ?? 'No Synopsis')\n\t\t\t\t.setThumbnail(result.picture ?? '')\n\t\t\t\t.addField('❯ Trailer', result.trailer ?? 'No Trailer', true)\n\t\t\t\t.addField('❯ English Title', result.englishTitle ?? 'None', true)\n\t\t\t\t.addField('❯ Type', result.type, true)\n\t\t\t\t.addField('❯ Episodes', result.episodes ?? '0', true)\n\t\t\t\t.addField('❯ Status', result.status ?? 'Unknown', true)\n\t\t\t\t.addField('❯ Aired', result.aired ?? 'Unknown', true)\n\t\t\t\t.addField('❯ Premiered', result.premiered ?? 'Unknown', true)\n\t\t\t\t.addField('❯ Source', result.source ?? 'Unknown', true)\n\t\t\t\t.addField('❯ Duration', result.duration ?? 'Unknown', true)\n\t\t\t\t.addField('❯ Rating', result.rating ?? 'Unknown', true)\n\t\t\t\t.addField('❯ Rank', result.ranked ?? 'Unknown', true)\n\t\t\t\t.addField('❯ Popularity', result.popularity ?? 'Unknown', true)\n\t\t\t\t.setFooter(result.genres.join(', ') ?? 'No Genres')\n\t\t\t\t.setColor('#2e51a2')\n\t\t\t\t.setURL(result.url)\n\t\t\t\t.setTimestamp();\n\n\t\t\treturn message.edit(embed);\n\t\t} catch {\n\t\t\treturn message.edit({ embed: { description: 'No results can be found.' } });\n\t\t}\n\t}\n};\n"]}