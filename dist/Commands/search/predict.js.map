{"version":3,"sources":["Commands/search/predict.js"],"names":["Command","require","stripIndents","toPercent","module","exports","[object Object]","client","super","name","memberName","group","description","args","key","label","prompt","type","max","throttling","duration","usages","msg","words","scores","this","perspective","processMessage","attributes","languages","doNotStore","stripHtml","say","TOXICITY","SEVERE_TOXICITY","IDENTITY_ATTACK","INSULT","PROFANITY","THREAT","SEXUALLY_EXPLICIT","FLIRTATION","LIKELY_TO_REJECT","OBSCENE","SPAM"],"mappings":"AAAA,MAAMA,QAAEA,SAAYC,QAAQ,wBACtBC,aAAEA,cAAiBD,QAAQ,eAC3BE,UAAYF,QAAQ,sBAE1BG,OAAOC,QAAU,cAA6BL,QAC7CM,YAAYC,GACXC,MAAMD,EAAQ,CACbE,KAAM,UACNC,WAAY,UACZC,MAAO,SACPC,YAAa,gDACbC,KAAM,CACL,CACCC,IAAK,QACLC,MAAO,aACPC,OAAQ,0CACRC,KAAM,SACNC,IAAK,MAGPC,WAAY,CACXC,SAAU,GACVC,OAAQ,KAKXf,UAAUgB,GAAKC,MAAEA,IAChB,MAAMC,QAAeC,KAAKlB,OAAOmB,YAAYC,eAAeJ,EAAO,CAClEK,WAAY,CACX,WACA,kBACA,kBACA,SACA,YACA,SACA,oBACA,aACA,mBACA,UACA,QAEDC,UAAW,CAAC,MACZC,YAAY,EACZC,WAAW,IAGZ,OAAOT,EAAIU,IAAI9B,YAAY;;KAExBqB;;;;eAIUpB,UAAUqB,EAAOS;sBACV9B,UAAUqB,EAAOU;sBACjB/B,UAAUqB,EAAOW;aAC1BhC,UAAUqB,EAAOY;gBACdjC,UAAUqB,EAAOa;aACpBlC,UAAUqB,EAAOc;wBACNnC,UAAUqB,EAAOe;iBACxBpC,UAAUqB,EAAOgB;uBACXrC,UAAUqB,EAAOiB;cAC1BtC,UAAUqB,EAAOkB;WACpBvC,UAAUqB,EAAOmB","file":"predict.js","sourcesContent":["const { Command } = require('discord.js-commando');\nconst { stripIndents } = require('common-tags');\nconst toPercent = require('decimal-to-percent');\n\nmodule.exports = class PredictCommand extends Command {\n\tconstructor(client) {\n\t\tsuper(client, {\n\t\t\tname: 'predict',\n\t\t\tmemberName: 'predict',\n\t\t\tgroup: 'search',\n\t\t\tdescription: 'Check what the bot thinks about your message.',\n\t\t\targs: [\n\t\t\t\t{\n\t\t\t\t\tkey: 'words',\n\t\t\t\t\tlabel: 'word/words',\n\t\t\t\t\tprompt: 'What would you want the bot to analyze?',\n\t\t\t\t\ttype: 'string',\n\t\t\t\t\tmax: 1000,\n\t\t\t\t},\n\t\t\t],\n\t\t\tthrottling: {\n\t\t\t\tduration: 10,\n\t\t\t\tusages: 2,\n\t\t\t},\n\t\t});\n\t}\n\n\tasync run(msg, { words }) {\n\t\tconst scores = await this.client.perspective.processMessage(words, {\n\t\t\tattributes: [\n\t\t\t\t'TOXICITY',\n\t\t\t\t'SEVERE_TOXICITY',\n\t\t\t\t'IDENTITY_ATTACK',\n\t\t\t\t'INSULT',\n\t\t\t\t'PROFANITY',\n\t\t\t\t'THREAT',\n\t\t\t\t'SEXUALLY_EXPLICIT',\n\t\t\t\t'FLIRTATION',\n\t\t\t\t'LIKELY_TO_REJECT',\n\t\t\t\t'OBSCENE',\n\t\t\t\t'SPAM',\n\t\t\t],\n\t\t\tlanguages: ['en'],\n\t\t\tdoNotStore: true,\n\t\t\tstripHtml: true,\n\t\t});\n\n\t\treturn msg.say(stripIndents`\n\t\t\t\\`\\`\\`\n\t\t\t${words}\n\t\t\t\\`\\`\\`\n\n\t\t\t\\`\\`\\`css\n\t\t\tToxicity: ${toPercent(scores.TOXICITY)}\n\t\t\tSevere Toxicity: ${toPercent(scores.SEVERE_TOXICITY)}\n\t\t\tIdentity Attack: ${toPercent(scores.IDENTITY_ATTACK)}\n\t\t\tInsult: ${toPercent(scores.INSULT)}\n\t\t\tProfanity: ${toPercent(scores.PROFANITY)}\n\t\t\tThreat: ${toPercent(scores.THREAT)}\n\t\t\tSexually Explicit: ${toPercent(scores.SEXUALLY_EXPLICIT)}\n\t\t\tFlirtation: ${toPercent(scores.FLIRTATION)}\n\t\t\tLikely To Reject: ${toPercent(scores.LIKELY_TO_REJECT)}\n\t\t\tObscene: ${toPercent(scores.OBSCENE)}\n\t\t\tSpam: ${toPercent(scores.SPAM)}\n\t\t\t\\`\\`\\`\n\t\t`);\n\t}\n};\n"]}