const{ArgumentType:ArgumentType}=require("discord.js-commando"),fileTypeRe=/\.(jpe?g|png|gif|jfif|bmp)$/i,request=require("node-superfetch");module.exports=class extends ArgumentType{constructor(e){super(e,"image")}async validate(e,t,r){const s=t.attachments.first();if(s)return s.size>8e6?"Please provide an image under 8 MB.":!!fileTypeRe.test(s.name)||"Please only send PNG, JPG, BMP, or GIF formatted images.";if(fileTypeRe.test(e.toLowerCase()))try{return await request.get(e),!0}catch{return!1}return this.client.registry.types.get("user").validate(e,t,r)}async parse(e,t,r){const s=t.attachments.first();if(s)return s.url;if(fileTypeRe.test(e.toLowerCase()))return e;return(await this.client.registry.types.get("user").parse(e,t,r)).displayAvatarURL({format:"png",size:4096})}isEmpty(e,t,r){return!t.attachments.size&&this.client.registry.types.get("user").isEmpty(e,t,r)}};
//# sourceMappingURL=image.js.map
