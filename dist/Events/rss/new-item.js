const Event=require("../../Structures/Event");module.exports=class extends Event{constructor(...t){super(...t,"item:new:anime",{emitter:"rss"})}run(t){this.client.shard.broadcastEval(`\n\t\t\tconst { WebhookClient, MessageEmbed } = require('discord.js');\n\t\t\tconst { htmlToText } = require('html-to-text');\n\n\t\t\tthis.guilds.cache.forEach(async (guild) => {\n\t\t\t\tif (!guild.available) guild = await guild.fetch();\n\t\t\t\tconst data = await this.db.get(\`animeUpdates-\${guild.id}\`);\n\n\t\t\t\tif (!data) return;\n\n\t\t\t\tconst hook = new WebhookClient(data.id, data.token);\n\t\t\t\tconst embed = new MessageEmbed()\n\t\t\t\t\t.setTitle(\`**${t.title}**\`)\n\t\t\t\t\t.setAuthor(${t.author})\n\t\t\t\t\t.setDescription(htmlToText(${t.description}))\n\t\t\t\t\t.setURL(${t.link})\n\t\t\t\t\t.setColor('RANDOM')\n\t\t\t\t\t.setImage(${t.image} || 'https://i.imgur.com/R3JCtNK.jpg')\n\t\t\t\t\t.setTimestamp();\n\n\t\t\t\thook.send(embed);\n\t\t\t});\n\t\t`)}};
//# sourceMappingURL=new-item.js.map
