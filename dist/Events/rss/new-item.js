const{WebhookClient:WebhookClient,MessageEmbed:MessageEmbed}=require("discord.js"),Event=require("../../Structures/Event"),{htmlToText:htmlToText}=require("html-to-text");module.exports=class extends Event{constructor(...e){super(...e,"item:new:anime",{emitter:"rss"})}run(e){this.client.guilds.cache.forEach((async t=>{t.available||(t=await t.fetch());const s=await this.client.db.get(`animeUpdates-${t.id}`);if(!s)return;const i=new WebhookClient(s.id,s.token),o=(new MessageEmbed).setTitle(`**${e.title}**`).setAuthor(e.author).setDescription(htmlToText(e.description)).setURL(e.link).setColor("RANDOM").setImage(e.image||"https://i.imgur.com/R3JCtNK.jpg").setTimestamp();i.send(o)}))}};
//# sourceMappingURL=new-item.js.map
