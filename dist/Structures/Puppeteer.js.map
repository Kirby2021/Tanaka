{"version":3,"sources":["Structures/Puppeteer.js"],"names":["AdblockPlugin","require","default","StealthPlugin","puppeteer","use","blockTrackers","screenshot","async","url","browser","launch","headless","args","page","newPage","setViewport","width","height","goto","waitUntil","waitForTimeout","buffer","data","title","close","e","Error","module","exports"],"mappings":"AAAA,MAAMA,cAAgBC,QAAQ,oCAAoCC,QAC5DC,cAAgBF,QAAQ,kCACxBG,UAAYH,QAAQ,mBAAmBC,QAE7CE,UAAUC,IAAIF,iBACdC,UAAUC,IAAIL,cAAc,CAAEM,eAAe,KAE7C,MAAMC,WAAaC,MAAOC,IACzB,IACC,MAAMC,QAAgBN,UAAUO,OAAO,CACtCC,UAAU,EACVC,KAAM,CAAC,eAAgB,gBAAiB,sBAEnCC,QAAaJ,EAAQK,gBAErBD,EAAKE,YAAY,CACtBC,MAAO,KACPC,OAAQ,aAEHJ,EAAKK,KAAKV,EAAK,CAAEW,UAAW,CAAC,OAAQ,4BACrCN,EAAKO,eAAe,KAE1B,MAAMC,QAAeR,EAAKP,aACpBgB,EAAO,CACZC,YAAaV,EAAKU,QAClBF,OAAAA,GAKD,aAFMZ,EAAQe,QAEPF,EACN,MAAOG,GACR,MAAM,IAAIC,MAAMD,KAIlBE,OAAOC,QAAU,CAAEtB,WAAAA","file":"Puppeteer.js","sourcesContent":["const AdblockPlugin = require('puppeteer-extra-plugin-adblocker').default;\nconst StealthPlugin = require('puppeteer-extra-plugin-stealth');\nconst puppeteer = require('puppeteer-extra').default;\n\npuppeteer.use(StealthPlugin());\npuppeteer.use(AdblockPlugin({ blockTrackers: true }));\n\nconst screenshot = async (url) => {\n\ttry {\n\t\tconst browser = await puppeteer.launch({\n\t\t\theadless: true,\n\t\t\targs: ['--no-sandbox', '--disable-gpu', '--single-process'],\n\t\t});\n\t\tconst page = await browser.newPage();\n\n\t\tawait page.setViewport({\n\t\t\twidth: 1920,\n\t\t\theight: 1080,\n\t\t});\n\t\tawait page.goto(url, { waitUntil: ['load', 'domcontentloaded'] });\n\t\tawait page.waitForTimeout(5000);\n\n\t\tconst buffer = await page.screenshot();\n\t\tconst data = {\n\t\t\ttitle: await page.title(),\n\t\t\tbuffer,\n\t\t};\n\n\t\tawait browser.close();\n\n\t\treturn data;\n\t} catch (e) {\n\t\tthrow new Error(e);\n\t}\n};\n\nmodule.exports = { screenshot };\n"]}