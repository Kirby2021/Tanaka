const{CommandoClient:CommandoClient}=require("discord.js-commando"),{FeedEmitter:FeedEmitter}=require("rss-emitter-ts"),{Database:Database}=require("quickmongo"),{Intents:Intents}=require("discord.js"),consola=require("consola");module.exports=class Client extends CommandoClient{constructor(){super({commandPrefix:process.env.COMMAND_PREFIX,owner:process.env.OWNER_ID,intents:[Intents.NON_PRIVILEGED,Intents.FLAGS.GUILDS,Intents.FLAGS.GUILD_PRESENCES],partials:["CHANNEL"]}),this.db=new Database(process.env.MONGO_URL,"tanaka",{useNewUrlParser:!0,useUnifiedTopology:!0}),this.logger=consola.create({level:5}),this.rss=new FeedEmitter}async login(e=process.env.DISCORD_TOKEN){return this.addRSSListeners(),super.login(e)}addRSSListeners(){[{url:"https://crunchyroll.com/rss",refresh:2e4,eventName:"anime:crunchyroll"},{url:"https://myanimelist.net/rss/news.xml",refresh:2e4,eventName:"anime:mal"}].forEach((e=>this.rss.add(e)))}};
//# sourceMappingURL=Client.js.map
