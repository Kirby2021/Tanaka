{"version":3,"sources":["Structures/BotList.js"],"names":["request","require","module","exports","[object Object]","client","this","setInterval","async","ibl","discordBotsGG","body","servers","guildCount","shards","shard","shardCount","post","user","id","set","Authorization","process","env","IBL_KEY","Content-Type","send","JSON","stringify","DISCORD_BOTS_GG_KEY"],"mappings":"AAAA,MAAMA,QAAUC,QAAQ,mBAExBC,OAAOC,QAAU,MAKhBC,YAAYC,GACXC,KAAKD,OAASA,EAEdE,aAAYC,gBACLF,KAAKG,YACLH,KAAKI,kBACT,MAGJN,YACC,MAAMO,EAAO,CACZC,cAAeN,KAAKD,OAAOQ,aAC3BC,OAAQR,KAAKD,OAAOU,MAAQT,KAAKD,OAAOU,MAAMC,WAAa,SAGtDhB,QACJiB,KAAK,uCAAuCX,KAAKD,OAAOa,KAAKC,MAC7DC,IAAI,CACJC,cAAeC,QAAQC,IAAIC,QAC3BC,eAAgB,qBAEhBC,KAAKC,KAAKC,UAAUjB,IAGvBP,sBACC,MAAMO,EAAO,CACZE,iBAAkBP,KAAKD,OAAOQ,aAC9BG,WAAYV,KAAKD,OAAOU,MAAQT,KAAKD,OAAOU,MAAMC,WAAa,SAG1DhB,QACJiB,KAAK,uCAAuCX,KAAKD,OAAOa,KAAKC,YAC7DC,IAAI,CACJC,cAAeC,QAAQC,IAAIM,oBAC3BJ,eAAgB,qBAEhBC,KAAKC,KAAKC,UAAUjB","file":"BotList.js","sourcesContent":["const request = require('node-superfetch');\n\nmodule.exports = class BotList {\n\t// eslint-disable-next-line valid-jsdoc\n\t/**\n\t * @param {import('./Client')} client the client\n\t */\n\tconstructor(client) {\n\t\tthis.client = client;\n\n\t\tsetInterval(async () => {\n\t\t\tawait this.ibl();\n\t\t\tawait this.discordBotsGG();\n\t\t}, 1.8e6);\n\t}\n\n\tasync ibl() {\n\t\tconst body = {\n\t\t\tservers: await this.client.guildCount(),\n\t\t\tshards: this.client.shard ? this.client.shard.shardCount : 1,\n\t\t};\n\n\t\tawait request\n\t\t\t.post(`https://api.infinitybotlist.com/bot/${this.client.user.id}`)\n\t\t\t.set({\n\t\t\t\tAuthorization: process.env.IBL_KEY,\n\t\t\t\t'Content-Type': 'application/json',\n\t\t\t})\n\t\t\t.send(JSON.stringify(body));\n\t}\n\n\tasync discordBotsGG() {\n\t\tconst body = {\n\t\t\tguildCount: await this.client.guildCount(),\n\t\t\tshardCount: this.client.shard ? this.client.shard.shardCount : 1,\n\t\t};\n\n\t\tawait request\n\t\t\t.post(`https://discord.bots.gg/api/v1/bots/${this.client.user.id}/stats`)\n\t\t\t.set({\n\t\t\t\tAuthorization: process.env.DISCORD_BOTS_GG_KEY,\n\t\t\t\t'Content-Type': 'application/json',\n\t\t\t})\n\t\t\t.send(JSON.stringify(body));\n\t}\n};\n"]}